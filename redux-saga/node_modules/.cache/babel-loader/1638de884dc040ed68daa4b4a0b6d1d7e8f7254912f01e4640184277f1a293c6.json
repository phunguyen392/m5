{"ast":null,"code":"import axios from \"axios\";\nimport { put, takeLatest } from \"redux-saga/effects\";\nimport { FETCH_USER, FETCH_USER_SUCCESS, LOGIN, LOGIN_SUCCESS } from \"../redux/action\";\nconst BaseURL = \"https://jsonplaceholder.typicode.com/users\";\nfunction* getUser(action) {\n  try {\n    const response = yield axios.get(BaseURL);\n    // Sau khi lấy được dữ liệu từ fake API\n    // Dispatch một action tới reducer kèm theo dữ liệu mà API trả về\n    yield put({\n      type: FETCH_USER_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    console.log(\"error - getUser : \", error);\n  }\n}\nfunction* authSagaFun(action) {\n  const user = action.payload;\n  if (user.username === \"admin\" && user.password === \"letmein\") {\n    yield put({\n      type: LOGIN_SUCCESS,\n      payload: user\n    });\n    yield put({\n      type: FETCH_USER,\n      payload: {}\n    });\n  }\n}\nexport default function* rootSaga() {\n  yield takeLatest(LOGIN, authSagaFun);\n  yield takeLatest(FETCH_USER, getUser);\n}","map":{"version":3,"names":["axios","put","takeLatest","FETCH_USER","FETCH_USER_SUCCESS","LOGIN","LOGIN_SUCCESS","BaseURL","getUser","action","response","get","type","payload","data","error","console","log","authSagaFun","user","username","password","rootSaga"],"sources":["C:/laragon/www/m5a/m5/redux-saga/src/saga/userSaga.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { put, takeLatest } from \"redux-saga/effects\";\r\nimport {\r\n  FETCH_USER,\r\n  FETCH_USER_SUCCESS,\r\n  LOGIN,\r\n  LOGIN_SUCCESS\r\n} from \"../redux/action\";\r\n\r\nconst BaseURL = \"https://jsonplaceholder.typicode.com/users\";\r\n\r\nfunction* getUser(action) {\r\n    try {\r\n      const response = yield axios.get(BaseURL);\r\n      // Sau khi lấy được dữ liệu từ fake API\r\n      // Dispatch một action tới reducer kèm theo dữ liệu mà API trả về\r\n      yield put({ type: FETCH_USER_SUCCESS, payload: response.data });\r\n    } catch (error) {\r\n      console.log(\"error - getUser : \", error);\r\n    }\r\n  }\r\n\r\n  function* authSagaFun(action) {\r\n    const user = action.payload;\r\n    if (user.username === \"admin\" && user.password === \"letmein\") {\r\n      yield put({ type: LOGIN_SUCCESS, payload: user });\r\n      yield put({ type: FETCH_USER, payload: {} });\r\n    }\r\n  }\r\n\r\n  export default function* rootSaga() {\r\n    yield takeLatest(LOGIN, authSagaFun);\r\n    yield takeLatest(FETCH_USER, getUser);\r\n  }"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,EAAEC,UAAU,QAAQ,oBAAoB;AACpD,SACEC,UAAU,EACVC,kBAAkB,EAClBC,KAAK,EACLC,aAAa,QACR,iBAAiB;AAExB,MAAMC,OAAO,GAAG,4CAA4C;AAE5D,UAAUC,OAAOA,CAACC,MAAM,EAAE;EACtB,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAACJ,OAAO,CAAC;IACzC;IACA;IACA,MAAMN,GAAG,CAAC;MAAEW,IAAI,EAAER,kBAAkB;MAAES,OAAO,EAAEH,QAAQ,CAACI;IAAK,CAAC,CAAC;EACjE,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,KAAK,CAAC;EAC1C;AACF;AAEA,UAAUG,WAAWA,CAACT,MAAM,EAAE;EAC5B,MAAMU,IAAI,GAAGV,MAAM,CAACI,OAAO;EAC3B,IAAIM,IAAI,CAACC,QAAQ,KAAK,OAAO,IAAID,IAAI,CAACE,QAAQ,KAAK,SAAS,EAAE;IAC5D,MAAMpB,GAAG,CAAC;MAAEW,IAAI,EAAEN,aAAa;MAAEO,OAAO,EAAEM;IAAK,CAAC,CAAC;IACjD,MAAMlB,GAAG,CAAC;MAAEW,IAAI,EAAET,UAAU;MAAEU,OAAO,EAAE,CAAC;IAAE,CAAC,CAAC;EAC9C;AACF;AAEA,eAAe,UAAUS,QAAQA,CAAA,EAAG;EAClC,MAAMpB,UAAU,CAACG,KAAK,EAAEa,WAAW,CAAC;EACpC,MAAMhB,UAAU,CAACC,UAAU,EAAEK,OAAO,CAAC;AACvC"},"metadata":{},"sourceType":"module","externalDependencies":[]}